<div class='panel'>
  <div>
    <a href='#' class='modalClose' (click)='closeClick()'>
    </a>
    <h1 class='panel-header'>Cohorts</h1>
    <h2 class='panel-header-desc'>Create, manage and apply custom cohorts to your visualizations </h2>
  </div>
  <!-- My Cohorts -->
  <div fxLayout.xs='column'>
    <div fxFlex.sm='1 1 30%' fxFlex.md='1 1 20%' fxFlex.lg='1 1 25%' fxFlex.xl='1 1 20%'>
      <h2 class='panel-column-title'>My Cohorts</h2>
      <div *ngFor='let myCohort of cohorts'>
        <div class='cohort-myRow' (click)='deleteClick(myCohort)'>
          <i class='material-icons md-18 cohort-myRow-delete'>remove_circle_outline</i>
          <span>{{myCohort.n}}</span>
        </div>
      </div>
    </div>
    <!-- Create Cohorts -->
    <div fxFlex.sm='1 1 70%' fxFlex.md='1 1 80%' fxFlex.lg='1 1 75%' fxFlex.xl='1 1 80%'>
      <h2 class='panel-column-title'>Build A Cohort</h2>
      <div class='cohort-field '>
        <label class='cohort-label' for='cohortName'>Name</label>
        <mat-form-field class='cohort-full-width'>
          <input matInput id='cohortName' type='text' [(ngModel)]='activeCohort.n'>
        </mat-form-field>
        <div fxLayoutGap="20px" layout-margin [class.cohort-field-or]='condition.condition==="or"' *ngFor='let condition of activeCohort.conditions'>
          <label class='cohort-label'>{{condition.condition}}</label>
          <mat-form-field>
            <mat-select placeholder='Select...' [(value)]='condition.field'>
              <mat-option *ngFor="let option of fields" [value]="option">
                {{option.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <span *ngIf='condition.field.type==="category"'>
            <mat-form-field class='test'>
              <mat-select placeholder='Select...' [(value)]='condition.value'>
                <mat-option *ngFor="let option of condition.field.options" [value]="option.value">
                  {{option.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </span>
          <span fxLayoutGap="5px" *ngIf='condition.field.type==="number"'>
            <mat-form-field style='width:75px;'>
              <input matInput type='number' [(value)]='condition.min' placeholder='Min'>
            </mat-form-field>
            <mat-form-field style='width:75px;'>
              <input matInput type='number' [(value)]='condition.max' placeholder='Max'>
            </mat-form-field>
          </span>
          <div class='cohort-field-buttons'>
            <a href='#' (click)='fieldAnd(condition)'>And</a> |
            <a href='#' (click)='fieldOr(condition)'>Or</a>
            <span *ngIf='condition.condition !== "where"'> |
              <a href='#' (click)='fieldDel(condition)'>Remove</a>
            </span>
          </div>
        </div>
        <button class='button' (click)='saveClick()' mat-raised-button>Save</button>
      </div>
    </div>
  </div>
