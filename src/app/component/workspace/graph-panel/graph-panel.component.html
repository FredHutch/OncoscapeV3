<div class='graph-panel' *ngIf='config'>

    <div #panelButton class="graphPanelExpandedButton" [ngClass]="{leftPanel: title === 'Graph B'}">
        <a (click)='toggleClick()'>
            <i class="material-icons small" style="color: #029BE5;">expand_less</i>
        </a>
    </div>
    <div #panel class="graphPanelExpanded">
        <div class='graphPanelHeader' style="padding-top: 5px;">{{methodName}}</div>
        <p style='padding:10px; margin:0px; width: 90%;'>{{methodSummary}}</p>
        <p style="margin-left: 10px; margin-top: 0px;">
            <a (click)='helpClick()' href='#'>Learn More</a>
        </p>
        <ng-content></ng-content>
        <div class='graphPanelHeader'>Settings</div>
        <div style='padding:10px'>
            <!-- <app-edges-form (configChange)='edgePanelSetConfig($event)' [graphAConfig]='graphAConfig' [graphBConfig]='graphBConfig' [tables]='tables'
                [fields]='fields' [config]='config'></app-edges-form> -->
            <!-- <app-workspace-edge-panel *ngIf='config.graph === 2' [workspaceConfig]='workspaceConfig' (workspaceConfigChange)='workspaceConfigChange($event)'></app-workspace-edge-panel> -->
            <!--
            <mat-menu #analysisSummaryMenu='matMenu'>
                <button mat-menu-item>Dashboard</button>
                <button mat-menu-item>Box + Whiskers</button>
                <button mat-menu-item>Heatmap</button>
                <button mat-menu-item>Spreadsheet</button>
            </mat-menu>
            <mat-menu #analysisStructuralMenu='matMenu'>
                <button mat-menu-item>Genome</button>
                <button mat-menu-item>Chromosome</button>
                <button mat-menu-item>Force Directed Graph</button>
                <button mat-menu-item>Pathways</button>
            </mat-menu>
            <mat-menu #analysisTreatmentMenu='matMenu'>
                <button mat-menu-item>Survival</button>
                <button mat-menu-item>Hazard</button>
                <button mat-menu-item>Timelines</button>
            </mat-menu>
            <mat-menu #analysisManifoldLearningMenu='matMenu'>
                <button mat-menu-item>Isomap</button>
                <button mat-menu-item>Locally Linear Embedding</button>
                <button mat-menu-item>Spectral Embedding</button>
            </mat-menu>
            <mat-menu #analysisMatrixDecompositionMenu='matMenu'>
                <button mat-menu-item>Dictionary Learning</button>
                <button mat-menu-item>Dictionary Learning - Mini Batch</button>
                <button mat-menu-item>Factor Analysis</button>
                <button mat-menu-item>Fast ICA</button>
                <button mat-menu-item>Latent Dirichlet Allocation</button>
                <button mat-menu-item>Non-Negative Matrix Factorization</button>
                <button mat-menu-item>PCA</button>
                <button mat-menu-item>PCA - Incremental</button>
                <button mat-menu-item>PCA - Kernel</button>
                <button mat-menu-item>PCA - Sparse</button>
                <button mat-menu-item>PCA - Sparse - Mini Batch</button>
                <button mat-menu-item>PCA - Sparse Coder</button>
                <button mat-menu-item>Truncated SVD</button>
            </mat-menu>
            <mat-menu #analysisDiscriminantAnalysisMenu='matMenu'>
                <button mat-menu-item>Linear Discriminant Analysis</button>
                <button mat-menu-item>Quadratic Discriminant Analysis</button>
            </mat-menu>
            <mat-menu #analysisSupportVectorMachinesMenu='matMenu'>
                <button mat-menu-item>SVC</button>
                <button mat-menu-item>SVR</button>
                <button mat-menu-item>Linear SVC</button>
                <button mat-menu-item>Linear SVR</button>
                <button mat-menu-item>NU SVC</button>
                <button mat-menu-item>NU SVR</button>
                <button mat-menu-item>One Class SVM</button>
            </mat-menu>
            <mat-menu #analysisMenu='matMenu'>
                <button mat-menu-item [matMenuTriggerFor]='analysisSummaryMenu'>Summary</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisStructuralMenu'>Structural</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisTreatmentMenu'>Treatment</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisManifoldLearningMenu'>Manifold Learning</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisMatrixDecompositionMenu'>Matrix Decomposition</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisDiscriminantAnalysisMenu'>Discriminant Analysis</button>
                <button mat-menu-item [matMenuTriggerFor]='analysisSupportVectorMachinesMenu'>Support Vector Machines</button>
            </mat-menu>

            <button mat-button [matMenuTriggerFor]='analysisMenu' style='width:50%;text-align: left;'>Analysis</button>
            <button mat-button style='width:50%;text-align: left;'>Configuration</button>
            <button mat-button style='width:50%;text-align: left;'>Data</button>
            <button mat-button style='width:50%;text-align: left;'>Visualization</button>

-->

            <div class='form-group'>
                <label class='center-block'>
                    <span class='form-label'>Analysis</span>
                    <select class='graphPanelAnalysisSelect' materialize='material_select' [ngModel]='visualizationOption' (change)='onVisualizationChange($event)'>
                        <optgroup *ngFor='let group of visualizationOptions' [label]='group.group'>
                            <option class='graphPanelAnalysisOption' *ngFor='let option of group.options' [value]='option.value' [selected]='config.visualization'>{{option.label}}</option>
                        </optgroup>
                    </select>
                </label>
            </div>

            <div class='form-group'>
                <label class='center-block'>
                    <span class='form-label'>Cohort</span>
                    <select materialize='material_select' (change)='onCohortChange($event)' [materializeSelectOptions]='cohorts'>
                        <option *ngFor='let option of cohorts' [value]='option.n' selected>{{option.n}} </option>
                        <!-- <option value='customize'>
                            <span class='customizeDropdownOption'>Customize</span>
                        </option> -->
                    </select>
                </label>
            </div>

            <div class='form-group'>
                <label class='center-block'>
                    <span class='form-label'>Gene Set</span>
                    <select materialize='material_select' (change)='onGenesetChange($event)' [materializeSelectOptions]='genesets'>
                        <option *ngFor='let option of genesets' [value]='option.n' selected>{{option.n}} </option>
                        <!-- <option value='customize'>
                            <span class='customizeDropdownOption'>Customize</span>
                        </option> -->
                    </select>
                </label>
            </div>

            <div class='form-group'>
                <label class='center-block'>
                    <span class='form-label'>Pathway</span>
                    <select materialize='material_select' (change)='onPathwayChange($event)' [materializeSelectOptions]='pathways'>
                        <option *ngFor='let option of pathways' [value]='option.n' selected>{{option.n}} </option>
                        <!-- <option value='customize'>
                            <span class='customizeDropdownOption'>Customize</span>
                        </option> -->
                    </select>
                </label>
            </div>

            <div *ngIf='config'>
                <app-workspace-decorator-panel [decorators]='decorators' (decoratorAdd)='onDecoratorAdd($event)' (decoratorDel)='onDecoratorDel($event)'
                    [config]='config' [fields]='fields' [tables]='tables'></app-workspace-decorator-panel>
                <app-pathways-form *ngIf='config && config.visualization === 256' (configChange)='graphPanelSetConfig($event)' [fields]='fields'
                    [config]='config'></app-pathways-form>
                <app-timelines-form *ngIf='config && config.visualization === 128' (configChange)='graphPanelSetConfig($event)' [fields]='fields'
                    [events]='events' [config]='config'></app-timelines-form>
                <app-genome-form *ngIf='config && config.visualization === 2147483648' (configChange)='graphPanelSetConfig($event)' [fields]='fields'
                    [config]='config'></app-genome-form>
                <app-chromosome-form *ngIf='config && config.visualization === 3' (configChange)='graphPanelSetConfig($event)' [fields]='fields'
                    [tables]='tables' [config]='config'></app-chromosome-form>
                <app-survival-form *ngIf='config && config.visualization === 16' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    [config]='config'></app-survival-form>
                <app-hazard-form *ngIf='config && config.visualization === 4398046511104' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    [config]='config'></app-hazard-form>
                <app-pca-form *ngIf='config && config.visualization === 1' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-pca-form>
                <app-tsne-form *ngIf='config && config.visualization === 4' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-tsne-form>
                <app-pls-form *ngIf='config && config.visualization === 2' [config]='config' [clinicalFields]='clinicalFields'></app-pls-form>
                <app-heatmap-form *ngIf='config && config.visualization === 32' (configChange)='graphPanelSetConfig($event)' [config]='config'
                    [tables]='tables'></app-heatmap-form>
                <app-dendogram-form *ngIf='config && config.visualization === 549755813888' (configChange)='graphPanelSetConfig($event)'
                    [config]='config' [tables]='tables'></app-dendogram-form>
                <app-boxwhiskers-form *ngIf='config && config.visualization === 4294967296' (configChange)='graphPanelSetConfig($event)'
                    [config]='config' [tables]='tables' [fields]='fields'></app-boxwhiskers-form>
                <app-parallelcoords-form *ngIf='config && config.visualization === 8589934592' (configChange)='graphPanelSetConfig($event)'
                    [config]='config' [tables]='tables' [fields]='fields'></app-parallelcoords-form>
                <app-linked-gene-form *ngIf='config && config.visualization === 1073741824' (configChange)='graphPanelSetConfig($event)'
                    [config]='config'></app-linked-gene-form>
                <app-histogram-form *ngIf='config && config.visualization === 65' (configChange)='graphPanelSetConfig($event)' [config]='config'></app-histogram-form>
                <app-hic-form *ngIf='config && config.visualization === 17179869184' (configChange)='graphPanelSetConfig($event)' [config]='config'></app-hic-form>
                <app-som-form *ngIf='config && config.visualization === 4096' (configChange)='graphPanelSetConfig($event)' [config]='config'
                    [molecularData]='molecularData' [clinicalFields]='clinicalFields'></app-som-form>
                <app-mds-form *ngIf='config && config.visualization === 8192' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-mds-form>
                <app-fa-form *ngIf='config && config.visualization === 65536' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-fa-form>
                <app-fastica-form *ngIf='config && config.visualization === 8388608' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-fastica-form>
                <app-truncatedsvd-form *ngIf='config && config.visualization === 131072' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-truncatedsvd-form>
                <app-lda-form *ngIf='config && config.visualization === 33554432' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-lda-form>
                <app-nmf-form *ngIf='config && config.visualization === 67108864' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-nmf-form>
                <app-dictionarylearning-form *ngIf='config && config.visualization === 16777216' (configChange)='graphPanelSetConfig($event)'
                    (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)' (selectGeneSignature)='graphPanelSelecteGeneSignature($event)'
                    [config]='config' [tables]='tables' [fields]='fields'></app-dictionarylearning-form>
                <app-pcakernal-form *ngIf='config && config.visualization === 524288' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-pcakernal-form>
                <app-pcaincremental-form *ngIf='config && config.visualization === 262144' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-pcaincremental-form>
                <app-pcasparse-form *ngIf='config && config.visualization === 1048576' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-pcasparse-form>
                <app-isomap-form *ngIf='config && config.visualization === 134217728' (configChange)='graphPanelSetConfig($event)' (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)'
                    (selectGeneSignature)='graphPanelSelecteGeneSignature($event)' [config]='config' [tables]='tables' [fields]='fields'></app-isomap-form>
                <app-locallinearembedding-form *ngIf='config && config.visualization === 268435456' (configChange)='graphPanelSetConfig($event)'
                    (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)' (selectGeneSignature)='graphPanelSelecteGeneSignature($event)'
                    [config]='config' [tables]='tables' [fields]='fields'></app-locallinearembedding-form>
                <app-spectralembedding-form *ngIf='config && config.visualization === 536870912' (configChange)='graphPanelSetConfig($event)'
                    (selectClusteringAlgorithm)='graphPanelSelectClusteringAlgorithm($event)' (selectGeneSignature)='graphPanelSelecteGeneSignature($event)'
                    [config]='config' [tables]='tables' [fields]='fields'></app-spectralembedding-form>
            </div>
        </div>

        <div class='graphPanelHeader'>Legend</div>
        <div style='padding:10px; overflow-y: scroll; overflow-x: hidden; padding-bottom: 30px;'>
            <app-workspace-legend-panel [legends]='data.legends' [decorators]='decoratorsWithLegends'></app-workspace-legend-panel>
        </div>
        <div class='graphPanelHeader'>Supplemental</div>
        <div style='padding:10px; overflow-y: scroll; overflow-x: hidden; padding-bottom: 30px;'>
            <app-workspace-stat-panel [config]='config' [graphData]='data'></app-workspace-stat-panel>
        </div>

    </div>
</div>